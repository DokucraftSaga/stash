<link rel="stylesheet" href="/pages/css/my-submissions.css"/><div class="center"><div class="sp-my-submissions-wrapper"><h1>My Submissions</h1><div class="sp-my-submissions-files"></div></div></div><script>stash.page.identifier().then(stash.page.requireLogin()).then(async s=>{stash.user;const e=await stash.api.get("/stash/pending-submissions");for(const a of e){const e=a.data,t=E("div").addClass("img").attr("data-src",new URL(`/storage/${a.user}/${"png"===e.type?e.hash:e.thumbnail}.png`,stash.url.api));stash.lazy.imageObserver.observe(t[0]);const i=E("div").addClass("sp-my-submissions-file").append(E("div").addClass("sp-my-submissions-file-preview "+e.type+("zip"===e.type?" tt":"")).append(t).attr("title","zip"===e.type?"Click to view thumbnail mcmeta":"").on("click",s=>{if("zip"===e.type){stash.page.modal().find(".content").css("width","800px").append(E("h2").text("Thumbnail MCMETA"),E("textarea").addClass("sp-submit-thumbnail-mcmeta-field").prop("readonly",!0).attr("spellcheck",!1).val(e.mcmeta?JSON.stringify(e.mcmeta,null,2):""))}}),E("div").addClass("sp-my-submissions-file-info").append(E("div").addClass("row").append(E("h3").text(`${e.type.toUpperCase()} File`),E("div").addClass("filler"),E("div").addClass("inline button warning sp-my-submissions-cancel-file-button").text("Cancel").on("click",()=>{const s=stash.page.modal();s.find(".content").css("width","800px").append(E("h2").text("Cancel submission"),E("p").text("Cancelling this submission will remove it from the review queue and the file will not be added to the stash. This action cannot be undone. Are you sure you want to continue?"),E("hr"),E("div").addClass("row").append(E("div").addClass("inline button warning").text("Yes, cancel").on("click",async e=>{const t=stash.blockInput(null,!1),n=stash.notify("Cancelling submission...","working");try{await stash.api.delete(`/submission/${a.id}`),i.remove(),stash.removeInputBlocker(t),stash.dismissNotification(n),stash.page.closeModal(s)}catch(e){stash.notify("Failed to cancel submission: "+e,null,"error"),stash.removeInputBlocker(t),stash.dismissNotification(n),stash.page.closeModal(s)}}),E("div").addClass("inline button").text("No, keep file").on("click",e=>{stash.page.closeModal(s)})))})),E("div").addClass("filler"),E("div").addClass("row").append(CCInput(E("div").addClass("sp-my-submissions-file-parents"),{readonly:!0,default:(e.parents||[]).join(","),placeholder:"No sources"}),"png"===e.type&&e.mcmeta?E("div").addClass("inline button sp-my-submissions-mcmeta-button").text("View MCMETA").on("click",s=>{stash.page.modal().find(".content").css("width","800px").append(E("h2").text("Texture MCMETA"),E("textarea").addClass("sp-my-submissions-mcmeta-field").prop("readonly",!0).attr("spellcheck",!1).val(JSON.stringify(e.mcmeta,null,2)))}):"","zip"===e.type?CCInput(E("div").addClass("inline sp-my-submissions-package-type"),{readonly:!0,default:stash.typeNames[e.packageType]}):"","zip"===e.type&&"model"==e.packageType?CCInput(E("div").addClass("inline filler"),{readonly:!0,default:e.sketchfab,placeholder:"No Sketchfab ID"}):"",e.sketchfab?E("div").addClass("inline button").text("View").on("click",s=>stash.sketchfabPreview(e.sketchfab)):""),E("div").addClass("row").append(CCInput(E("div").addClass("sp-my-submissions-file-contributor"),{readonly:!0,default:e.contributor}),CCInput(E("div").addClass("sp-my-submissions-file-tags filler"),{readonly:!0,default:(e.tags||[]).join(" "),placeholder:"No tags"}))),E("div").addClass("sp-my-submissions-file-meta row").append(E("span").addClass("filler").text(new Date(a.date)),E("span").text("ID: "+a.id))).appendTo(s.find(".sp-my-submissions-files"))}tippy(s.find(".sp-my-submissions-files>.sp-my-submissions-file").find(".tt").toArray())}).catch(s=>{console.error(s),stash.notify("You need to be logged in to view and manage your submissions.",null,"error"),stash.page.load("root")});</script><img onload="stash.page.identifierLoaded(this);void(0);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>