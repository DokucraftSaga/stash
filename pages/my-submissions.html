<div class="center"><div class="sp-my-submissions-wrapper"><h2>My Submissions</h2><div class="sp-my-submissions-files"></div></div></div><link rel="stylesheet" href="/stash/pages/css/my-submissions.css"/><script>stash.page.identifier().then(stash.page.requireLogin()).then(s=>{stash.getFirebaseUser().then(e=>{stash.firebase.db.collection("submissions-pending").where("user","==",e.uid).get().then(e=>{e.docs.forEach(e=>e.data().files.forEach((a,i)=>{const t=E("div").addClass("img").attr("data-src","png"===a.type?a.url:a.thumbnail)[0];stash.lazy.imageObserver.observe(t);const n=E("div").addClass("sp-my-submissions-file").append(E("div").addClass("sp-my-submissions-file-preview "+a.type+("zip"===a.type?" tt":"")).append(t).attr("title","zip"===a.type?"Click to view thumbnail info":"").on("click",s=>{if("zip"===a.type){stash.page.modal().find(".content").css("width","800px").append(E("h2").text("Package Thumbnail Image"),E("div").addClass("row").append(CCInput(E("div").addClass("sp-submit-thumbnail-url-field filler"),{readonly:!0,default:a.thumbnail})),E("h4").text("Thumbnail MCMETA"),E("textarea").addClass("sp-submit-thumbnail-mcmeta-field").prop("readonly",!0).attr("spellcheck",!1).val(a.mcmeta?JSON.stringify(a.mcmeta,null,2):""))}}),E("div").addClass("sp-my-submissions-file-info").append(E("div").addClass("row").append(E("h3").text(`${a.type.toUpperCase()} File`),E("span").addClass("sp-my-submissions-link-icon").load("/stash/resources/link.svg"),E("sub").addClass("faded").text(a.url.replace(/^(.{90}).+/,"$1&hellip;")),E("div").addClass("filler"),E("div").addClass("inline button warning sp-my-submissions-cancel-file-button").text("Cancel").on("click",()=>{const s=stash.page.modal();s.find(".content").css("width","800px").append(E("h2").text("Cancel pending submitted file"),E("p").text("Cancelling this file will remove it from the review queue and it will not be added to the stash. This action cannot be undone. Are you sure you want to continue?"),E("hr"),E("div").addClass("row").append(E("div").addClass("inline button warning").text("Yes, cancel").on("click",i=>{const t=stash.blockInput(null,!1),l=stash.notify("Cancelling submission...","working"),d=stash.firebase.db.collection("submissions-pending").doc(e.id);d.get().then(s=>d.update({files:s.data().files.filter(s=>s.url!=a.url)})).then(()=>{n.remove(),stash.removeInputBlocker(t),stash.dismissNotification(l),stash.page.closeModal(s)}).catch(e=>{stash.notify("Failed to cancel submission: "+e,null,"error"),stash.removeInputBlocker(t),stash.dismissNotification(l),stash.page.closeModal(s)})}),E("div").addClass("inline button").text("No, keep file").on("click",e=>{stash.page.closeModal(s)})))})),E("div").addClass("filler"),E("div").addClass("row").append(CCInput(E("div").addClass("sp-my-submissions-file-parents"),{readonly:!0,default:(a.parents||[]).join(",")}),"png"===a.type&&a.mcmeta?E("div").addClass("inline button sp-my-submissions-mcmeta-button").text("View MCMETA").on("click",s=>{stash.page.modal().find(".content").css("width","800px").append(E("h2").text("Texture MCMETA"),E("textarea").addClass("sp-my-submissions-mcmeta-field").prop("readonly",!0).attr("spellcheck",!1).val(JSON.stringify(a.mcmeta,null,2)))}):"","zip"===a.type?CCInput(E("div").addClass("inline sp-my-submissions-package-type"),{readonly:!0,default:stash.typeNames[a.packageType]}):""),E("div").addClass("row").append(CCInput(E("div").addClass("sp-my-submissions-file-contributor"),{readonly:!0,default:a.contributor}),CCInput(E("div").addClass("sp-my-submissions-file-tags filler"),{readonly:!0,default:(a.tags||[]).join(" ")})))).appendTo(s.find(".sp-my-submissions-files"))})),tippy(s.find(".sp-my-submissions-files>.sp-my-submissions-file").find(".tt").toArray())})})}).catch(()=>{stash.notify("You need to be logged in to view and/or manage your submissions.",null,"error"),stash.page.load("root")});</script><img onload="stash.page.identifierLoaded(this);void(0);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>