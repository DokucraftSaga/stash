<link rel="stylesheet" href="/stash/pages/css/my-submissions.css"/><div class="center"><div class="sp-my-submissions-wrapper"><h1>My Submissions</h1><div class="sp-my-submissions-files"></div></div></div><script>stash.page.identifier().then(stash.page.requireLogin()).then(s=>{stash.firebase.getUser().then(e=>{stash.firebase.db.collection("pending-submissions").where("user","==",e.uid).where("type","==","file").orderBy("time").get().then(t=>{t.docs.forEach(t=>{const a=t.data(),i=a.data,n=E("div").addClass("img");stash.firebase.storage.ref(`/users/${e.uid}/${"png"===i.type?i.hash:i.thumbnail}.png`).getDownloadURL().then(s=>{n.attr("data-src",s),stash.lazy.imageObserver.observe(n[0])});const d=E("div").addClass("sp-my-submissions-file").append(E("div").addClass("sp-my-submissions-file-preview "+i.type+("zip"===i.type?" tt":"")).append(n).attr("title","zip"===i.type?"Click to view thumbnail mcmeta":"").on("click",s=>{if("zip"===i.type){stash.page.modal().find(".content").css("width","800px").append(E("h2").text("Thumbnail MCMETA"),E("textarea").addClass("sp-submit-thumbnail-mcmeta-field").prop("readonly",!0).attr("spellcheck",!1).val(i.mcmeta?JSON.stringify(i.mcmeta,null,2):""))}}),E("div").addClass("sp-my-submissions-file-info").append(E("div").addClass("row").append(E("h3").text(`${i.type.toUpperCase()} File`),E("div").addClass("filler"),E("div").addClass("inline button warning sp-my-submissions-cancel-file-button").text("Cancel").on("click",()=>{const s=stash.page.modal();s.find(".content").css("width","800px").append(E("h2").text("Cancel submission"),E("p").text("Cancelling this submission will remove it from the review queue and the file will not be added to the stash. This action cannot be undone. Are you sure you want to continue?"),E("hr"),E("div").addClass("row").append(E("div").addClass("inline button warning").text("Yes, cancel").on("click",e=>{const a=stash.blockInput(null,!1),i=stash.notify("Cancelling submission...","working");stash.firebase.db.collection("pending-submissions").doc(t.id).delete().then(()=>{d.remove(),stash.removeInputBlocker(a),stash.dismissNotification(i),stash.page.closeModal(s)}).catch(e=>{stash.notify("Failed to cancel submission: "+e,null,"error"),stash.removeInputBlocker(a),stash.dismissNotification(i),stash.page.closeModal(s)})}),E("div").addClass("inline button").text("No, keep file").on("click",e=>{stash.page.closeModal(s)})))})),E("div").addClass("filler"),E("div").addClass("row").append(CCInput(E("div").addClass("sp-my-submissions-file-parents"),{readonly:!0,default:(i.parents||[]).join(","),placeholder:"No sources"}),"png"===i.type&&i.mcmeta?E("div").addClass("inline button sp-my-submissions-mcmeta-button").text("View MCMETA").on("click",s=>{stash.page.modal().find(".content").css("width","800px").append(E("h2").text("Texture MCMETA"),E("textarea").addClass("sp-my-submissions-mcmeta-field").prop("readonly",!0).attr("spellcheck",!1).val(JSON.stringify(i.mcmeta,null,2)))}):"","zip"===i.type?CCInput(E("div").addClass("inline sp-my-submissions-package-type"),{readonly:!0,default:stash.typeNames[i.packageType]}):"","zip"===i.type&&"model"==i.packageType?CCInput(E("div").addClass("inline filler"),{readonly:!0,default:i.sketchfab,placeholder:"No Sketchfab ID"}):"",i.sketchfab?E("div").addClass("inline button").text("View").on("click",s=>stash.sketchfabPreview(i.sketchfab)):""),E("div").addClass("row").append(CCInput(E("div").addClass("sp-my-submissions-file-contributor"),{readonly:!0,default:i.contributor}),CCInput(E("div").addClass("sp-my-submissions-file-tags filler"),{readonly:!0,default:(i.tags||[]).join(" "),placeholder:"No tags"}))),E("div").addClass("sp-my-submissions-file-meta row").append(E("span").addClass("filler").text(a.time.toDate().toString()),E("span").text("ID: "+t.id))).appendTo(s.find(".sp-my-submissions-files"))}),tippy(s.find(".sp-my-submissions-files>.sp-my-submissions-file").find(".tt").toArray())})})}).catch(()=>{stash.notify("You need to be logged in to view and manage your submissions.",null,"error"),stash.page.load("root")});</script><img onload="stash.page.identifierLoaded(this);void(0);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>