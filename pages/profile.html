<div class="fill"><h2 class="contributor-name"></h2><div class="contributor-stats"></div><br/><h2>Top categories</h2><table class="top-categories"><thead><tr><th>Category</th><th title="Number of files in category by contributor">#</th><th title="Percent of all files in category by contributor">%</th></tr></thead><tbody></tbody></table><h2>Activity</h2><div class="graph"><canvas id="activity-total-contributions"></canvas></div><div class="graph"><canvas id="activity-per-year-contributions"></canvas></div></div><script>(()=>{let t=getURLParams().profile,e=stash.files.all.filter(contributorFilter(t)),o={},r=1/0,a=-1/0,i={};for(let t=0;t<e.length;t++){let l=e[t],n=getCategory(l),s=getID(l),p=stash.data[l].T||getApproxTime(s);o[n]=(o[n]||0)+1,r=Math.min(r,p),a=Math.max(a,p);let d=new Date(1e3*p),c=d.getFullYear()+" Q"+Math.floor((d.getMonth()+3)/3);i[c]=(i[c]||0)+1}let l=stash.categories.filter(t=>null!=o[t]);l.sort((t,e)=>o[e]-o[t]),l=l.slice(0,5);let n=new Date(1e3*r),s=new Date(1e3*a),p=n.getFullYear(),d=s.getFullYear();for(let t=n.getFullYear();t<=d;t++){let e=t!=p?1:Math.floor((n.getMonth()+3)/3),o=t!=d?4:Math.floor((s.getMonth()+3)/3);for(let r=e;r<=o;r++)i[t+" Q"+r]=i[t+" Q"+r]||0}let c=[];for(quarter in i)i.hasOwnProperty(quarter)&&c.push(quarter);c.sort(naturalSorter),$(".contributor-name").text(t),$(".contributor-stats").append(E("p").text(`Number of contributions: ${e.length}`)).append(E("p").text(`First contribution: ${formatDate(r)}`)).append(E("p").text(`Last contribution: ${formatDate(a)}`));for(let t=0;t<l.length;t++)l[t],$(".top-categories>tbody").append(E("tr").append(E("td").text(l[t])).append(E("td").text(o[l[t]])).append(E("td").text(Math.floor(o[l[t]]/stash.files.category[l[t]].length*100+.5)+"%")));let b={maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{id:"xAxis1",gridLines:{display:!1},ticks:{callback:t=>t.split(" ")[1]}},{id:"xAxis2",gridLines:{display:!1},ticks:{callback:t=>~t.indexOf("Q1")||0==c.indexOf(t)?t.split(" ")[0]:""}}],yAxes:[{gridLines:{color:"#333"},ticks:{beginAtZero:!0}}]},tooltips:{bodyFontSize:16,footerFontSize:0,callbacks:{label:t=>"    "+t.yLabel,title:()=>"",footer:()=>" "},custom:t=>{t&&(t.displayColors=!1)}}};new Chart("activity-total-contributions",{type:"line",options:$.extend({},b,{title:{display:!0,text:"Total number of contributions"}}),data:{labels:c,datasets:[{data:c.map(t=>i[t]).reduce((t,e)=>(t.push((t.length&&t[t.length-1]||0)+e),t),[]),xAxisID:"xAxis1",backgroundColor:"rgba(85, 136, 255, 0.2)",borderColor:"#58f",pointHoverBorderColor:"#fff",borderWidth:2,pointRadius:5,lineTension:0}]}}),new Chart("activity-per-year-contributions",{type:"line",options:$.extend({},b,{title:{display:!0,text:"Number of contributions per quarter"}}),data:{labels:c,datasets:[{data:c.map(t=>i[t]),xAxisID:"xAxis1",backgroundColor:"rgba(85, 136, 255, 0.2)",borderColor:"#58f",pointHoverBorderColor:"#fff",borderWidth:2,pointRadius:5,lineTension:0}]}}),tippy(".top-categories th",{arrow:!0,animation:"perspective"}),tippy(".contributor-stats>*",{placement:"right",arrow:!0,animation:"perspective"})})();</script>