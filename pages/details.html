<div class="fill"><h2>File details</h2><div class="block"><div class="no-action x1" id="texture-preview"></div><div class="info"><p>Made by <a class="contributor-name"></a> (<a class="profile-link">Profile</a>)</p><p>ID: <span class="file-id"></span></p><p>Category: <a class="file-category"></a></p><p class="png-only">Size: <span class="image-size"></span></p><p class="zip-only">Type: <span class="zip-type"></span></p><p>Date: <span class="file-date"></span></p></div></div><div id="misc-stats"></div><br/><div id="package-info"></div></div><script>(()=>{let t=getURLParams().details,e=stash.files.all.filter(idFilter([{min:parseInt(t),max:parseInt(t)}]))[0];createFilePreview(e,$("#texture-preview"));let a=stash.data[e].T||getApproxTime(t),o=getContributor(e),i=getCategory(e);if($(".contributor-name").text(o).attr("title",`Click to see all files by ${o}`).attr("href",toSearchURLParams({contributor:o})).on("click",t=>{goToPage(toSearchURLParams({contributor:o})),t.preventDefault()}),$(".profile-link").attr("href",toURLParams({profile:o})).on("click",t=>{goToPage(toURLParams({profile:o})),t.preventDefault()}),$(".file-id").text(t),$(".file-category").text(i).attr("title",`Click to see all files in ${i}`).attr("href",toSearchURLParams({category:i})).on("click",t=>{goToPage(toSearchURLParams({category:i})),t.preventDefault()}),$(".file-date").text(formatDate(a)),e.match(/\.zip$/)){$(".zip-type").text(stash.typeNames[stash.data[e].Z]),$(".zip-only").show(),$(".png-only").hide(),stash.page.hasWork=!0;const t=()=>{$.getJSON(contentData+e.replace(/\.zip$/,".json"),t=>{const e=(t,a)=>{if("object"==typeof t){let o=E("div").addClass("info-dir");a?o.append(a):o.addClass("no-name");for(let a in t)t.hasOwnProperty(a)&&o.append(e(t[a],a));return o}return E("div").addClass("info-file").text(a).append(E("span").addClass("info-filesize").text(formatBytes(t)))};$("#zip-content-display").remove(),$("#package-info").append(e(t).attr("id","zip-content-display")),stash.workComplete()})};$("#package-info").append(E("h2").text("File content")).append(E("select").attr("id","zip-content-display-type").append(E("option").attr("value","tree").text("Tree view").prop("selected",!0)).append(E("option").attr("value","list").text("List view")).append(E("option").attr("value","tile").text("Tile view")).on("change",a=>{const o=$("#zip-content-display-type").val();stash.workIndeterminate(),"tree"==o?t():"list"==o?$.getJSON(contentData+e.replace(/\.zip$/,".json"),t=>{const e=(t,a,o)=>{for(let i in a)a.hasOwnProperty(i)&&("object"==typeof a[i]?e(t,a[i],o+i+"/"):t.append(E("div").addClass("info-file").text(o+i).append(E("span").addClass("info-filesize").text(formatBytes(a[i])))))},a=E("div").addClass("info-dir").addClass("no-name").attr("id","zip-content-display");e(a,t,""),$("#zip-content-display").remove(),$("#package-info").append(a),stash.workComplete()}):"tile"==o&&stash.getZIPContent(e,t=>{$("#zip-content-display").remove();const e=E("div").attr("id","zip-content-display").addClass("tile-view");t.forEach(t=>{const a=/\.([^.]*)$/.exec(t.name)[1].toLowerCase(),o=E("div").addClass("file no-action "+a).attr("data-filetype",a).attr("title",`<h3>${t.name}</h3><p>Size: ${formatBytes(t.size)}</p>${t.path.length>0?`<br><i>${t.path}</i>`:""}`),i=E("div").addClass("overlay").appendTo(o);if(tippy(o[0],{arrow:!0,animation:"perspective",placement:"right"}),"png"==a){o.append(E("div").addClass("img b-lazy").attr("data-src","data:image/png;base64,"+t.content)),i.append(E("a").addClass("action-button download-image-button").attr("download",t.name).attr("title","Download").attr("href","data:image/png;base64,"+t.content).on("click",t=>{t.stopPropagation()})),i.append(E("div").addClass("action-button fullscreen-button").attr("title","Fullscreen").on("click",e=>{$("#fullscreen-cover").removeClass("hidden"),$("#fullscreen-cover .img").removeClass("b-loaded b-error").attr("style","").attr("data-src","data:image/png;base64,"+t.content),e.stopPropagation()}));const e=new Image;e.onload=(()=>{e.width<128&&e.height<128&&o.addClass("pixelated")}),e.src="data:image/png;base64,"+t.content}else i.append(E("a").addClass("action-button download-image-button").attr("download",t.name).attr("title","Download").attr("href","data:text/plain;base64,"+btoa(t.content)).on("click",t=>{t.stopPropagation()}));e.append(o)}),$("#package-info").append(e),stash.workComplete()})})),initSelectric(),t()}else $(".image-size").text(stash.data[e].S.join("x")),$(".png-only").show(),$(".zip-only").hide(),stash.data[e].M&&(stash.page.hasWork=!0,$.ajax({url:cors+stashURL+e+".mcmeta",success:t=>{$("#package-info").append(E("h2").text("MCMETA")).append(E("textarea").attr("spellcheck",!1).prop("readonly",!0).val(JSON.stringify(JSON.parse(t),null,2))),stash.workComplete()}}));tippy("#content .info a",{placement:"right",arrow:!0,animation:"perspective"});let n=stash.files.all.filter(contributorFilter(o)).sort(idSort),s=n.indexOf(e)+1,r=n.filter(categoryFilter(i)).indexOf(e)+1,p=stash.files.all.sort(idSort),l=p.indexOf(e)+1,d=p.filter(categoryFilter(i)).indexOf(e)+1;var c=a-opTime,f=Math.floor(c/86400);$("#misc-stats").append(E("p").text(`This is the ${formatNum(s,!0)} file ${o} posted and the ${formatNum(r,!0)} file by them in ${i}.`)).append(E("p").text(`It is the ${formatNum(l,!0)} file added to DokuStash and the ${formatNum(d,!0)} file added to ${i}.`)).append(E("p").text(`It was posted approximately ${formatNum(f)} days after the continuation project started.`))})();</script><style>#package-info .selectric-wrapper {
  width: 260px;
  margin-bottom: 16px;
}
#zip-content-display.tile-view {
  display: flex;
  flex-wrap: wrap;
}</style>