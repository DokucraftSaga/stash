<div class="fill"><h2>Contributors</h2><i>This lists only contributors with at least one texture in the stash. Also, some contributors might go by multiple different names due to name changes on MCF.</i><div class="center"><table class="sortable" id="contributors-table"><tr><th>Name</th><th title="Number of contributions in the stash">#</th><th>Top category</th><th title="Date of the first contribution in the stash">First contribution</th><th title="Date of the last contribution in the stash">Last contribution</th></tr></table></div></div><script>(() => {
  if (!stash.cache.contributorList) {
    stash.cache.contributorList = []
    for (let i = 0; i < stash.contributors.length; i++) {
      let c = stash.contributors[i]
      let contributions = stash.files.all.filter(contributorFilter(c))

      let categories = {none:0}
      let firstPostTime = Infinity
      let lastPostTime = -Infinity
      for (let j = 0; j < contributions.length; j++) {
        let category = getCategory(contributions[j])
        categories[category] = (categories[category] || 0) + 1

        let postTime = stash.data[contributions[j]].T || getApproxTime(getID(contributions[j]))
        firstPostTime = Math.min(firstPostTime, postTime)
        lastPostTime = Math.max(lastPostTime, postTime)
      }

      let topCategory = 'none'
      for (let category in categories) if (categories.hasOwnProperty(category)) {
        if (categories[category] > categories[topCategory]) topCategory = category
      }

      stash.cache.contributorList.push({
        name: c,
        contributionsCount: contributions.length,
        topCategory: topCategory,
        topCategoryCount: categories[topCategory],
        firstPostTime: firstPostTime,
        lastPostTime: lastPostTime
      })
    }
  }

  for (let i = 0; i < stash.cache.contributorList.length; i++) {
    let c = stash.cache.contributorList[i]

    $('#contributors-table').append(
      $('<tr>').append(
        $('<td>', {class:'link', text:c.name, title:`Click to see more information about ${c.name}`}).on('click', e => {
          $('#category-input').val('')
          $('#contributor-input').val('')
          $('#id-input').val('')
          $('#size-input').val('')
          $('#color-picker-toggle').prop('checked', false).change()

          showProfile(c.name, () => {
            history.pushState(null, '', toURLParams({profile: c.name}))
          })
          e.preventDefault()
        })
      ).append(
        $('<td>', {class:'link', text:c.contributionsCount, title:`Click to see all textures by ${c.name}`}).on('click', e => {
          $('#category-input').val('')
          $('#contributor-input').val(c.name)
          $('#id-input').val('')
          $('#size-input').val('')
          $('#color-picker-toggle').prop('checked', false).change()

          search(null, c.name)
          history.pushState(null, '', toURLParams({contributor: c.name}))
          e.preventDefault()
        })
      ).append(
        $('<td>', {class:'link', text:c.topCategory, title:`Click to see textures in ${c.topCategory} by ${c.name}<br><br><i>${c.topCategoryCount} files</i>`}).on('click', e => {
          $('#category-input').val(c.topCategory)
          $('#contributor-input').val(c.name)
          $('#id-input').val('')
          $('#size-input').val('')
          $('#color-picker-toggle').prop('checked', false).change()

          search(c.topCategory, c.name)
          history.pushState(null, '', toURLParams({category: c.topCategory, contributor: c.name}))
          e.preventDefault()
        })
      ).append(
        $('<td>', {text:formatDate(c.firstPostTime), sorttable_customkey:c.firstPostTime})
      ).append(
        $('<td>', {text:formatDate(c.lastPostTime), sorttable_customkey:c.lastPostTime})
      )
    )
  }
  sorttable.makeSortable($('#contributors-table')[0])
  for (let i = 0; i < 2; i++)
    sorttable.innerSortFunction.apply($('#contributors-table th:nth-of-type(2)')[0], [])
  tippy('#contributors-table th,#contributors-table td', {
    arrow: true,
    animation: 'perspective'
  })

})()</script>